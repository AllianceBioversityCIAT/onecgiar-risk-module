<!-- user-management-content -->

<div class="user-management__icon-box">
    <mat-icon class="user-management__icon-box__icon">archive</mat-icon>
    <span class="user-management__icon-box__title">Archive management </span>
  </div>
  
  <div class="user-management__text-box--1">
    <!-- <p class="user-management__text-box__title">
      Welcome to the user management panel, here you can manage the users and
      their roles within the platform.
    </p> -->
  </div>
  
  <div class="user-management__content--1">
  
    <div class="user-management__container">
      <div class="form-container">
            <button
              class="user-management__button-box__btn btn-export-size"
              mat-raised-button
              (click)="syncData()"
            >
              <mat-icon class="risk-management-export-box-icon">
                <svg
                  class="risk-management-export-box-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="21"
                  viewBox="0 0 22 21"
                  fill="none"
                >
                  <path
                    d="M5.65951 17.6484C5.15534 17.6484 4.72389 17.4772 4.36517 17.1348C4.00584 16.7918 3.82617 16.3797 3.82617 15.8984V13.2734H5.65951V15.8984H16.6595V13.2734H18.4928V15.8984C18.4928 16.3797 18.3135 16.7918 17.9548 17.1348C17.5954 17.4772 17.1637 17.6484 16.6595 17.6484H5.65951ZM11.1595 14.1484L6.57617 9.77344L7.8595 8.50469L10.2428 10.7797V3.64844H12.0762V10.7797L14.4595 8.50469L15.7428 9.77344L11.1595 14.1484Z"
                    fill="white"
                  />
                </svg>
              </mat-icon>
              <span class="user-management__button-box__title">sync</span>
            </button>
      </div>
  
        <div class="table-box mat-elevation-z8">
          <table
            mat-table
            [dataSource]="dataSource"
            class="mat-elevation-z8 risk-managment-table"
            matSort
          >
            <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->

            <!-- iNITCode Column -->
            <ng-container matColumnDef="INIT-ID">
              <th mat-header-cell *matHeaderCellDef>
                <div class="mtable">ID</div>
              </th>
              <td mat-cell *matCellDef="let element">
                <div class="mtable">{{ element["official_code"] }}</div>
              </td>
            </ng-container>

            <!-- initiativeName Column -->
            <ng-container matColumnDef="Initiative Name">
              <th mat-header-cell *matHeaderCellDef>
                <span class="h1">Name</span>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element["name"] }}
              </td>
            </ng-container>

            <!-- riskCategory Column -->
            <ng-container matColumnDef="Risk Category">
              <th mat-header-cell *matHeaderCellDef>
                <span class="th-3">Risk category</span>
              </th>
              <td mat-cell *matCellDef="let element">
                <span class="td-3-h">{{
                  filterCategories(element["risks"])
                }}</span>
              </td>
            </ng-container>

            <!-- numOfRisks Column -->
            <ng-container matColumnDef="Number of risks">
              <th mat-header-cell *matHeaderCellDef>
                <span class="h3">Num of risks</span>
              </th>
              <td mat-cell *matCellDef="let element">
                <span class="td-h">{{ element["risks"].length }}</span>
              </td>
            </ng-container>

            <!-- myRole Column -->
            <ng-container matColumnDef="My Role">
              <th mat-header-cell *matHeaderCellDef>
                <span class="h4">My role</span>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ filterRoles(element["roles"]) }}
              </td>
            </ng-container>

            <!-- status Column -->
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef>
                <span class="h4">Status</span>
              </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.status_by_phase }}
                </td>
            </ng-container>

            <!-- Help Requested Column -->
            <ng-container matColumnDef="Help requested">
              <th mat-header-cell *matHeaderCellDef>
                <span class="h4">Targets not set</span>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ filterReqAssistance(element.risks) }}
              </td>
            </ng-container>

            <!-- Actions Name Column -->
            <ng-container matColumnDef="Actions">
              <th mat-header-cell *matHeaderCellDef>
                <span class="h5">Actions</span>
              </th>
              <td mat-cell *matCellDef="let element"> 
                <div class="m">
                    <mat-checkbox class="example-margin">Check me!</mat-checkbox>                </div>
              </td>
            </ng-container>

            <tr
              class="table-header"
              mat-header-row
              *matHeaderRowDef="displayedColumns"
            ></tr>
            <tr
              class="table-header"
              mat-row
              *matRowDef="let row; columns: displayedColumns"
            ></tr>
          </table>
        </div>
    </div>
  </div>
  