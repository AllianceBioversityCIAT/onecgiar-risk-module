<nav class="risk-nav-main">
  <ul class="risk-nav-list">
    <li>
      <a class="risk-nav-link" routerLink="/home/risk-management"
        >Initiatives</a
      >
    </li>
    <li>
      <a routerLink="''" class="risk-nav-link">></a>
    </li>
    <li>
      <a routerLink="/home/risk-management/risk-report" class="risk-nav-link"
        >&nbsp;Risk report<span class="line">&nbsp;/&nbsp;</span
        >&nbsp;&nbsp;INIT-01</a
      >
    </li>
    <li>
      <a routerLink="''" class="risk-nav-link">></a>
    </li>
    <li>
      <a
        routerLink="/home/risk-management/risk-report/submitted-versions"
        class="risk-nav-link"
        >Submitted versions</a
      >
    </li>

    <li>
      <a routerLink="''" class="risk-nav-link">></a>
    </li>
    <li>
      <a routerLink="''" class="risk-nav-link">Version - 2</a>
    </li>
  </ul>
</nav>

<div class="published-versions-content">
  <div class="published-versions-title-box">
    <h1 class="published-versions-title-box__title">
      Accelerated Breeding Version - 2
    </h1>
  </div>

  <div class="risk-management-export">
    <div class="risk-management-export-box">
      <form class="risk-management-export-box">
        <!-- //Reset Button----- -->
        <div>
          <button
            class="risk-management-export-submitted-btn"
            mat-raised-button
            (click)="onExportToExcel()"
          >
            <mat-icon class="risk-management-export-box-icon">
              <svg
                class="risk-management-export-box-icon"
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="21"
                viewBox="0 0 22 21"
                fill="none"
              >
                <path
                  d="M5.65951 17.6484C5.15534 17.6484 4.72389 17.4772 4.36517 17.1348C4.00584 16.7918 3.82617 16.3797 3.82617 15.8984V13.2734H5.65951V15.8984H16.6595V13.2734H18.4928V15.8984C18.4928 16.3797 18.3135 16.7918 17.9548 17.1348C17.5954 17.4772 17.1637 17.6484 16.6595 17.6484H5.65951ZM11.1595 14.1484L6.57617 9.77344L7.8595 8.50469L10.2428 10.7797V3.64844H12.0762V10.7797L14.4595 8.50469L15.7428 9.77344L11.1595 14.1484Z"
                  fill="white"
                /></svg
            ></mat-icon>

            Export data
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- step-3 -->
  <div class="table-box">
    <div class="table-box example-container mat-elevation-z8">
      <table multiTemplateDataRows mat-table [dataSource]="dataSource" matSort>
        <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

        <!-- id Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>
            <div class="mtable">ID</div>
          </th>
          <td mat-cell *matCellDef="let element">
            <div class="mtable">{{ element.id }}</div>
          </td>
        </ng-container>

        <!-- title -->
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h1">Title</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.title }}
          </td>
        </ng-container>

        <!-- category Column -->
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef>
            <span class="th-3">Category</span>
          </th>
          <td mat-cell *matCellDef="let element">
            <span class="td-3-h">{{ element.category }}</span>
          </td>
        </ng-container>

        <!-- CurrentRiskLevel Column -->
        <ng-container matColumnDef="CurrentRiskLevel">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h3">Current risk level</span>
          </th>
          <td mat-cell *matCellDef="let element">
            <span class="td-h">{{ element.CurrentRiskLevel }}</span>
          </td>
        </ng-container>

        <!-- targetRiskLevel Column -->
        <ng-container matColumnDef="targetRiskLevel">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h4">Target risk level</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.targetRiskLevel }}
          </td>
        </ng-container>

        <!-- riskOwner Column -->
        <ng-container matColumnDef="riskOwner">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h4">Risk owner</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.riskOwner }}
          </td>
        </ng-container>

        <!-- createdBy Column -->
        <ng-container matColumnDef="createdBy">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h4">Created by</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.createdBy }}
          </td>
        </ng-container>

        <!-- Due date Column -->
        <ng-container matColumnDef="dueDate">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h4">Due date</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.dueDate }}
          </td>
        </ng-container>

        <!-- Actions Name Column -->
        <ng-container matColumnDef="expandedDetail" matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>
            <span class="h5">Actions</span>
          </th>

          <td
            mat-cell
            *matCellDef="let element"
            [attr.colspan]="displayedColumns.length"
          >
            <div class="m">
              <mat-expansion-panel
                (opened)="panelOpenState = true"
                (closed)="panelOpenState = false"
                hideToggle="true"
                #e
              >
                <mat-expansion-panel-header>
                  <button
                    (click)="
                      expandedElement =
                        expandedElement === element ? null : element
                    "
                    class="risk-report-icon-table-1"
                  >
                    <mat-icon
                      *ngIf="!e.expanded"
                      class="user-management-table__icon"
                    >
                      <img
                        class="table__icon"
                        src="../../../../assets/shared-image/Vector-toggel.svg"
                        alt="~/Frontend/images/Vector-toggel.svg"
                    /></mat-icon>
                    <mat-icon
                      *ngIf="e.expanded"
                      class="user-management-table__icon"
                    >
                      <svg
                      class="user-management-table__icon--1"
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="10"
                        viewBox="0 0 16 10"
                        fill="none"
                      >
                        <path
                          d="M14.12 10L8 3.81916L1.88 10L1.66351e-07 8.09716L8 -6.99382e-07L16 8.09717L14.12 10Z"
                          fill="#9E553E"
                        /></svg
                    ></mat-icon>
                  </button>
                </mat-expansion-panel-header>
              </mat-expansion-panel>
            </div>
          </td>
        </ng-container>

        <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
        <ng-container matColumnDef="expandedDetail">
          <td
            mat-cell
            *matCellDef="let element"
            [attr.colspan]="displayedColumns.length"
          >
            <div
              class="risk-report-detail-box"
              [@detailExpand]="
                element == expandedElement ? 'expanded' : 'collapsed'
              "
            >
              <div class="risk-report-detail-content">
                <div class="risk-report-detail-content__box-1">
                  <span class="risk-report-detail-content__title"
                    >Description</span
                  >
                  <p class="risk-report-detail-content__text">
                    Genebanks need to continue to take a proactive role in
                    ensuring collections are relevant and usable by target
                    groups. Curation data is useful, but needs to be amplified
                    through sequencing, creation of value-added genetic
                    materials and subsets, and appropriate data portals. Failure
                    to address these issues will result in less demand for
                    genebank materials.
                  </p>
                </div>

                <div class="risk-report-detail-content__box-2">
                  <span class="risk-report-detail-content__title"
                    >Current likelihood: 4</span
                  >

                  <span class="risk-report-detail-content__title"
                    >Current impact: 3</span
                  >

                  <span class="risk-report-detail-content__title"
                    >Target likelihood: 4</span
                  >

                  <span class="risk-report-detail-content__title"
                    >Target impact: 3</span
                  >

                  <div class="flex-box-risk-report-detail">
                    <span class="risk-report-detail-content__title"
                      >Redundant:
                    </span>
                    <form>
                      <mat-checkbox></mat-checkbox>
                    </form>
                  </div>
                </div>

                <div class="box">
                  <span class="risk-report-detail-content__title">
                    Actions/Controls to manage risks</span
                  >
                  <div [innerHTML]="html"></div>
                </div>
              </div>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let element; columns: displayedColumns"
          class="example-element-row"
          [class.example-expanded-row]="expandedElement === element"
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: ['expandedDetail']"
          class="example-detail-row"
        ></tr>
      </table>
    </div>
    <p class="risk-report-records">
      <span class="risk-report-records__text">{{
        dataSource.data.length
      }}</span>
      total
    </p>
  </div>
</div>
